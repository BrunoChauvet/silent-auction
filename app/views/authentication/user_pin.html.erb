<%= render partial: 'common/authentication_header', locals: {title: "Enter your PIN"} %>

<div id="authenticate" class="list container">
  <div class="row header-row">
    <div class="col-md-12">
      <h1>Enter your PIN</h1>
    </div>
  </div>

  <div class="row">
    <div class="col-md-12 list-item username mask1"><%= "#{@user.title} #{@user.first_name} #{@user.last_name}" %></div>
  </div>

  <% if flash[:error] %>
    <div class="alert alert-danger"><%= flash[:error] %></div>
  <% end %>

  <div class="row">
    <div class="col-xs-12 pin">
      <%= form_tag({},{:class => 'form-horizontal', :role => 'form', :autocomplete => 'off'}) do %>
        <div class="form-group">
          <label for="pin" class="col-xs-2 control-label">PIN</label>
          <div class="col-xs-8">
            <input type="number" class="form-control input-lg" id="pin" name="pin" autocomplete="off">
          </div>
        </div>
        
        <div class="form-group">
          <label for="pin" class="col-xs-2 control-label">&nbsp;</label>
          <div class="col-xs-10">
            <%= link_to authenticate_select_user_path(user_id: @user.id), html_options = {class: "btn btn-default btn-lg col-xs-5"} do %>
              <i class="glyphicon glyphicon-chevron-left">Back</i>
            <% end %>
            &nbsp;&nbsp;&nbsp;
            <button type="submit" class="btn btn-primary btn-lg col-xs-5 col-sm-offset-1">
              <i class="glyphicon glyphicon-user"></i> Validate
            </button>
          </div>
       </div>
      <% end %>
    </div>
  </div>
</div>

<script type="text/javascript">
  $(function(){
    $("#pin").focus();
  });
</script>